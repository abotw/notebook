# 组合逻辑 vs 存储逻辑

---

## 一、基本定义

### 组合逻辑（CL, Combinational Logic）

- **输出仅依赖当前输入**，无记忆能力。
    
- 不涉及时序或时钟信号。
    
- 所有逻辑门电路（如 AND、OR、NOT、MUX、加法器等）均为组合逻辑。
    

### 存储逻辑（Sequential Logic）

- **输出不仅依赖当前输入，还依赖以往状态（即“记忆”）**。
    
- 通常由**触发器（Flip-Flop）或锁存器（Latch）**组成。
    
- 必须使用**时钟信号（CLK, Clock）**来同步更新状态。
    

---

## 二、核心区别

| 特性       | 组合逻辑（CL）                | 存储逻辑（Sequential Logic） |
| -------- | ----------------------- | ---------------------- |
| 是否具有记忆能力 | 无                       | 有                      |
| 依赖状态     | 只依赖输入                   | 依赖输入和过去的状态             |
| 是否依赖时钟   | 否                       | 是                      |
| 延迟类型     | 传播延迟（Propagation Delay） | 包括建立时间、保持时间、时钟周期等时序参数  |
| 电路组成     | 逻辑门、布尔函数                | **触发器、锁存器 + 组合逻辑**     |
| 应用场景     | 运算、译码、逻辑判断、数据路径生成等      | 状态机、寄存器、计数器、控制器等       |

---

## 三、典型电路示例

### 组合逻辑案例

- **全加器（Full Adder）**：三输入（A、B、Cin），两个输出（Sum 和 Cout），输出完全由输入决定。
    

### 存储逻辑案例

- **计数器（Counter）**：
    
    - 使用一组 D 触发器保存当前计数状态；
        
    - 时钟每跳变一次，状态变化一次；
        
    - 输出依赖历史状态和控制信号。
        

---

## 四、设计与调试注意点

- **组合逻辑设计关注：**
    
    - 最小化逻辑表达式（使用卡诺图、布尔代数等）
        
    - 避免竞争与冒险（Hazard）
        
    - 传播延迟对系统性能影响大
        
- **存储逻辑设计关注：**
    
    - 正确处理**建立时间（Setup Time）**和**保持时间（Hold Time）**
        
    - 使用边沿触发元件设计时序同步系统
        
    - 避免**亚稳态（Metastability）**
        

---

## 五、与相关领域的联系

- **数字系统设计**：
    
    - 组合逻辑用于执行数据路径上的逻辑运算；
        
    - 存储逻辑构建控制器和状态跟踪器（例如 FSM）。
        
- **HDL 编程（如 Verilog/VHDL）**：
    
    - 组合逻辑：使用 `assign` 或不带时钟的 `always @(*)` 块；
        
    - 存储逻辑：使用带有 `posedge clk` 的 `always` 块。
        
- **计算机体系结构**：
    
    - 算术逻辑单元（ALU）为组合逻辑；
        
    - 指令寄存器（IR）、程序计数器（PC）为存储逻辑。
        

---

## 六、小结

- **组合逻辑 = 功能运算**；
    
- **存储逻辑 = 状态记忆 + 功能运算 + 控制流程**；
    
- 实际电路系统几乎总是两者结合使用。
    

---

## 七、推荐例题

**题目：判断以下电路是组合逻辑还是存储逻辑，并说明理由。**

```verilog
module example(input clk, input d, output reg q);
    always @(posedge clk)
        q <= d;
endmodule
```

**答案：**  
此为存储逻辑电路，因为使用了 `posedge clk` 的边沿触发机制，q 会记忆前一时钟周期的输入 d。
