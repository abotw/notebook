# 时序电路（Sequential Circuit）

todo:

时序电路的逻辑函数表达式

1. Y = 输入函数/激励函数
    
2. Q = 触发器的次态方程/次态函数
    
3. 输出函数（Mealy（输入+状态），Moore（状态））
    

时序电路的描述方法

1. 次态真值表
    
2. 次态卡诺图
    
3. 状态转换表
    
4. 状态表

---

## 一、基本定义

**时序电路**（**Sequential Circuit**）是一类**输出不仅依赖于当前输入，还依赖于历史输入状态**的电路。它们具有**记忆功能**，可存储系统的历史信息，通常以**状态机（FSM, Finite State Machine）**形式建模。

---

## 二、分类

### 1. 同步时序电路（Synchronous Sequential Circuit）

- 所有存储单元由同一**时钟信号（Clock Signal）**触发。
    
- 稳定可靠，易于设计与验证。
    
- 应用：CPU 控制单元、寄存器文件、计数器等。
    

### 2. 异步时序电路（Asynchronous Sequential Circuit）

- 状态变化不依赖统一时钟，仅依赖输入信号变化。
    
- 响应速度快，但设计难度大，易发生**竞争-冒险（Race-Hazard）**问题。
    
- 应用：高速接口、手工控制逻辑等。
    

---

## 三、基本组成结构

1. **输入（Input）**
    
2. **存储元件**：如触发器（Flip-Flop）、锁存器（Latch）
    
3. **组合逻辑网络**：决定状态转移和输出
    
4. **输出（Output）**
    
5. **时钟（Clock）**（仅同步时序电路）
    

---

## 四、关键术语说明

|术语|英文全称|说明|
|---|---|---|
|状态|State|存储单元当前内容，代表系统运行阶段|
|状态转移方程|Next-State Equation|当前状态和输入决定下一状态的逻辑表达式|
|输出方程|Output Equation|当前状态和/或输入决定输出的逻辑表达式|
|时钟|Clock|控制状态更新的节奏信号|
|边沿触发|Edge-Triggered|电路响应时钟上升/下降沿而非电平|
|激励方程|Excitation Equation|推导触发器输入逻辑的表达式（用于实现特定状态转移）|

---

## 五、Moore 与 Mealy 模型（FSM 建模）

|模型类型|输出依赖|优点|缺点|
|---|---|---|---|
|Moore|仅当前状态|结构清晰，输出稳定|响应速度较慢（需等下一个状态）|
|Mealy|当前状态 + 输入|响应快，电路复杂度低|设计逻辑复杂，输出易受毛刺影响|

---

## 六、经典例题：序列检测器

### 任务：设计一个检测输入串中“101”模式的电路。

#### 步骤概览：

1. **状态图设计**：定义各检测阶段状态（如 S0=起始，S1=检测到1，S2=检测到10）。
    
2. **状态编码**：如 2 位编码：S0=00，S1=01，S2=10。
    
3. **状态转移表**：列出在每个状态下不同输入对应的次态和输出。
    
4. **求解方程**：
    
    - 状态转移（Next-State）方程
        
    - 输出方程（Mealy 或 Moore）
        
5. **Verilog 实现**（选做）
    

---

## 七、与其他领域联系

### 1. 数字逻辑基础

- 时序电路是数字系统从“组合逻辑”到“系统设计”的桥梁。
    
- 寄存器、计数器、移位器等均可视为时序电路特例。
    

### 2. Verilog/VHDL 描述

- 使用 `always @(posedge clk)` 编写状态寄存器逻辑。
    
- FSM 代码通常包括状态转移和输出两个 `always` 块。
    

### 3. 计算机组成原理

- 控制单元、流水线控制、指令译码、微程序控制器等广泛应用 FSM。
    
- PC（Program Counter）更新也是一种同步状态更新。
    

---

## 八、小结

时序电路具备**状态记忆能力**，是实现自动控制与信息处理系统的基础。熟练掌握其建模方法（状态图/状态表）、方程推导技巧以及与触发器、时钟等概念的结合，是深入理解现代数字系统的关键。
