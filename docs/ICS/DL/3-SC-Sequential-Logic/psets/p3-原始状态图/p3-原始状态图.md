---
date: 
tags:
  - fsm
  - state-diagram
  - bcd-8421
  - parity
  - moore-mealy
  - sequential-logic
---
# 原始状态图

> [!NOTE]
> 设计一个电路，用于检测串行输入的 8421 BCD 码是否表示一个偶数。输入按高位到低位（MSB → LSB）的顺序依次进入。电路在每组完整的4位输入之后判断该8421码表示的十进制数是否为偶数：若是偶数，输出为1；否则输出为0。  
仅需画出原始状态图（不考虑状态最小化或编码）。

![[attachments/ChatGPT Image 2025年5月7日 22_50_00.png]]

我们可以从**8421 BCD 码的偶数判定**这个问题的核心出发：

### ✅ **偶数判定规则**：

对于一个 4 位 BCD 数，最低有效位（LSB）表示的就是这个十进制数的**最末位二进制位**。所以：

- 如果 **LSB = 0**，则该十进制数是偶数 → 输出 1
    
- 如果 **LSB = 1**，则该十进制数是奇数 → 输出 0
    

---

## 🔧 状态图设计思路：

**输入为 1 位串行输入（MSB → LSB），共 4 位一组（即每 4 个输入为一个 BCD 数）**

- 所以电路必须记录前面已经输入了几位（用状态追踪输入位数）
    
- 并在输入第 4 位（LSB）时判断其值，输出结果
    

---

## 🎯 状态图说明（原始状态图）：

我们需要 5 个状态：

- `S0`: 等待第 1 位（最高位 MSB）
    
- `S1`: 等待第 2 位
    
- `S2`: 等待第 3 位
    
- `S3`: 等待第 4 位（最低位 LSB）
    
- `S4`: 输出状态（输出 1 或 0，根据 LSB）→ 然后返回 `S0` 等待下一组
    

---

### 🔁 状态转移图（仅画出状态和转移逻辑）：

```plaintext
(输入位)            状态名       动作
---------           -------       -----------------------------
开始                  S0          等待第1位输入 → 输入0/1都转S1
S0 --0/1-->          S1          等待第2位输入 → 输入0/1都转S2
S1 --0/1-->          S2          等待第3位输入 → 输入0/1都转S3
S2 --0/1-->          S3          等待第4位（LSB） → 输入决定奇偶
S3 --0-->            S4(偶数)    输出=1 → 回到S0
S3 --1-->            S4(奇数)    输出=0 → 回到S0
```

你可以画成如下这种圆圈状态图：

```plaintext
[S0] --0/1--> [S1] --0/1--> [S2] --0/1--> [S3]
                                         |     \
                                       0 |       \ 1
                                         v         v
                                  [S4 (输出1)]  [S4 (输出0)]
                                        \         /
                                         \       /
                                          <- S0 <-
```

---

### 🔚 总结：

- 状态图仅需关注 **位数统计** 和 **最后一位（LSB）的值**
    
- 实质上是一个**4 位移位寄存器 + 检查第 4 位的值**
    