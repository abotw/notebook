---
date: 2025-05-06T17:22:00
tags:
  - 2级页表
---

> [!NOTE] 2级页表的逻辑地址结构分析+地址变换
> 某计算机系统按字节编址，采用二级页表的分页存储管理方式，虚拟地址格式如下：
> 
> |页目录号（10位） | 页号（10位） | 页内偏移量（12位） |
> | --- | --- | --- |
> 请回答下列问题：
> 
> 1. 页和页框的大小给为多少字节？进程的虚拟地址空间大小为多少页？
> 2. 假定页目录项和页表项均占4B，则进程的页目录和页表共占多少页？要求写出计算过程。
> 3. 若在某指令周期内访问的虚拟地址为0100 0000H和0111 2048H，则进行地址转换时共应访问多少个二级页表？要求说明理由。

1
$$
\text{页大小} = \text{页框大小} = 2^{12} = 4096\text{B} = 4\text{KB}
$$
$$
\text{页数}=\frac{\text{地址空间大小}}{\text{页大小}}=\frac{2^{32}}{2^{12}}=2^{20}=1\text{M页}
$$
2
$$
\text{页目录页数}=\frac{\text{页目录项数}\times\text{页目录大小}}{\text{页大小}}=\frac{2^{10}\times4}{2^{12}}=1\text{页}
$$
$$
\text{页表页数}=\frac{\text{页表项数}\times\text{页表项大小}}{\text{页大小}}=\frac{2^{20}\times4}{2^{12}}=2^{10}=1024=1\text{K页}
$$
$$
\text{页目录和页表占用页数}=1+1024=1025\text{页}
$$
3

| 0        | 1        | 0        | 0    | 0    | 0    | 0    | 0    |
| -------- | -------- | -------- | ---- | ---- | ---- | ---- | ---- |
| **0000** | **0001** | **00**00 | 0000 | 0000 | 0000 | 0000 | 0000 |
最高10位是 0000_0001_00 = 4

| 0        | 1        | 1        | 1    | 2    | 0    | 4    | 8    |
| -------- | -------- | -------- | ---- | ---- | ---- | ---- | ---- |
| **0000** | **0001** | **00**01 | 0001 | 0010 | 0000 | 0100 | 1000 |
最高10位是 0000_0001_00 = 4
所以两者访问的是同一个二级页表，因此只访问了一个二级页表。