---
aliases:
  - 输入/输出（I/O）管理
---

## liuyong17-OS期末复习提纲

### I/O 设备类型

**按信息交换单位分为**：

- **块设备**  
    用于存储信息，属于结构设备，典型的块设备是磁盘。  
    基本特征：
    
    - 传输速率较高（每秒为几兆位）
        
    - 可寻址，即可以随机读写任意块数据
        
- **字符设备**  
    用于数据的输入和输出，属于无结构类型，如交互式终端、打印机等。  
    基本特征：
    
    - 传输速率较低（通常为几个字节至几千字节）
        
    - 不可寻址，即不能指定数据的输入源地址和输出目标地址
        
    - 常采用中断驱动方式进行输入/输出
        

---

### 按设备的共享属性分

- **独占设备**  
    在一段时间内只允许一个用户（进程）访问的设备，即临界资源，如打印机。  
    特点：设备分配可能引起死锁。
    
- **共享设备**  
    允许多个进程在同一时间内同时访问的设备，如磁盘。  
    特点：必须是可寻址且可随机访问的设备。
    
- **虚拟设备**  
    通过虚拟技术将一台独占设备变换为若干台逻辑设备，供多个用户（进程）同时使用。
    

---

### I/O 系统的层次结构

包括以下几层：

1. 用户层软件
    
2. 设备独立性软件
    
3. 设备驱动程序
    
4. 中断处理程序
    

I/O 操作流程：

- 当一个进程请求 I/O 操作时，该进程将被挂起；
    
- I/O 设备完成操作后，设备控制器向 CPU 发送中断请求；
    
- CPU 响应中断并执行中断处理程序；
    
- 中断处理完成后，解除相应进程的阻塞状态。
    

---

### 设备独立性

应用程序不依赖于实际使用的物理设备，从而提高了程序的通用性和可移植性。

---

### 逻辑设备表（LUT）设置方式

- **统一 LUT 模式**：整个系统仅有一张 LUT 表。
    
- **分用户 LUT 模式**：为每个用户单独设置一张 LUT 表。
    

设备分配所需的四张表：

1. 设备控制表（DCT）
    
2. 控制器控制表
    
3. 通道控制表
    
4. 系统设备表
    

---

### SPOOLing 技术（假脱机操作）

- 将一台物理 I/O 设备虚拟为多台逻辑 I/O 设备；
    
- 允许多个用户共享一台物理设备；
    
- 在联机状态下，外围操作与 CPU 对数据处理可同时进行。
    

---

## 提纲

```
I/O系统（Input/Output Systems）
├── 1. I/O基础知识
│   ├── I/O设备分类（块设备 vs 字符设备）
│   ├── I/O操作的基本过程
│   └── I/O接口和控制器
│
├── 2. I/O通信方式
│   ├── 程序直接控制（Programmed I/O）
│   ├── 中断驱动I/O（Interrupt-Driven I/O）
│   └── 直接内存访问（DMA：Direct Memory Access）
│
├── 3. 设备驱动程序
│   ├── 驱动程序的作用和结构
│   ├── 设备无关性与抽象（统一接口）
│   └── 驱动程序的加载与绑定
│
├── 4. 缓冲管理（Buffering）
│   ├── 单缓冲、双缓冲、循环缓冲
│   ├── 缓冲的作用（解耦/提高吞吐）
│   └── 高速缓存与磁盘缓存
│
├── 5. I/O调度与设备管理
│   ├── I/O调度算法（特别是磁盘调度）
│   │   ├── FCFS、SSTF、SCAN、C-SCAN等
│   ├── 设备分配与释放
│   └── 设备独占、共享与虚拟设备
│
├── 6. 文件系统与I/O接口
│   ├── 系统调用层的I/O
│   ├── 文件I/O vs 设备I/O
│   └── 标准I/O库（如 UNIX 的 `read/write/ioctl`）
│
└── 7. 高级主题（可选）
    ├── 异步I/O与非阻塞I/O
    ├── I/O多路复用（select/poll/epoll）
    ├── 网络I/O与设备
    └── Linux I/O模型（同步阻塞、非阻塞、I/O复用等）
```

## 408

1. I/O管理基础
	1. 设备
		1. 设备的基本概念
		2. 设备的分类
		3. I/O接口
		4. I/O端口
	2. I/O控制方式
		1. 轮询方式
		2. 中断方式
		3. DMA方式
	3. I/O软件层次结构
		1. 中断处理程序
		2. 驱动程序
		3. 设备独立软件
		4. 用户层I/O软件
	4. 输入/输出应用程序接口
		1. 字符设备接口
		2. 块设备接口
		3. 网络设备接口
		4. 阻塞/非阻塞I/O
2. 设备独立软件
	1. 缓冲区管理
	2. 设备分配与回收
	3. 假脱机技术（SPOOLing）
	4. 设备驱动程序接口
3. 外存管理
	1. 磁盘
		1. 磁盘结构
		2. 格式化
		3. 分区
		4. 磁盘调度方法
	2. 固态硬盘
		1. 读写性能特性
		2. 磨损均衡