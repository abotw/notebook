---
tags:
  - cal-zzx
---

# ch09-16-txdsol-p59


![](assets/Pasted%20image%2020250529112447.png)

16．（考研真题）某文件系统采用混合索引分配方式，如图 1-9-6 所示，有 10 个直接块

（每个直接块指向 1 个数据块）、1 个一级间接块、1 个二级间接块和 1 个三级间接块，间接

块指向的是 1 个索引块，每个索引块和数据块的大小均为 512B，索引块编号的大小为 4B。

（1）若只使用直接块，则文件最大为多少字节？

（2）在该系统中能存储的文件最大是多少？

（3）若读取某文件第 10MB 的内容，则需要访问磁盘几次？


![](assets/Pasted%20image%2020250529112513.png)

【参考答案】

（1）直接块指向数据块的块数为10，因此若只使用直接块，则文件最大为10×512B=

5 120B。

（2）一级间接块指向的索引块指针数为512B/4B=128个，因此一级间接块指向数据块的块

数是128块。二级间接块指向的索引块指针数也是128个，每个索引块里还有128个指针数据块，

因此二级间接块指向的最大数据块数为128×128个。同理，三级间接块指向数据块的块数是

128×128×128块。因此该系统能存储的最大文件为（10+128+1282+1283）×512B=1 082 201 088

B=1 056 837KB。

（3）10MB的文件需要的数据块个数为10MB/512B=2 048块。直接块和一级间接块指向的

数据块个数为10+128=138块＜2 048块。直接块、一级间接块和二级间接块指向的数据块个数为

10+128+1282=16 552块＞2 048块，因此第10MB的数据应该存放在二级间接块下的某个数据块

中，共需要访问磁盘3次。

