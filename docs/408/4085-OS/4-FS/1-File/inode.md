---
aliases:
  - inode
  - 索引节点
---

## inode（索引节点）

**定义**  
`inode`（index node）是 Linux 文件系统中用于存储**文件元信息**的数据结构，每个文件对应一个唯一的 inode。

---

### 📦 inode 包含哪些信息？

一个 inode **不存储文件名或文件内容**，而是保存以下信息：

- 文件类型（普通文件、目录、链接等）
    
- 权限（读/写/执行权限）
    
- 所有者（UID、GID）
    
- 文件大小
    
- 创建/修改/访问时间（ctime、mtime、atime）
    
- 链接计数（引用次数）
    
- **指向数据块的指针（即文件内容实际位置）**
    

---

### 🧭 inode 与文件名的关系

- 文件名存在目录文件中，与 inode 号进行绑定；
    
- 可以理解为：  
    **目录 = 文件名 → inode号的映射表**
    

---

### 🔁 硬链接的原理

- 多个文件名可以指向同一个 inode（称为**硬链接**）；
    
- 只要 inode 的引用计数 > 0，文件就不会被删除；
    
- 删除一个文件名只是减少引用计数，不影响其他硬链接。
    

---

### 🧠 在管道中的应用

- 管道是由内核创建的**特殊临时文件**；
    
- 对于匿名管道，系统会生成一个临时 inode；
    
- 读写两端的 `file` 结构都指向这个 inode，实现共享缓冲区。
    

---

### 📝 小结

- inode 是 Linux 文件的核心元信息容器；
    
- 它把文件名和实际存储位置分离，提高了灵活性；
    
- 理解 inode 有助于掌握文件系统、硬链接、管道等机制。
    
