
# 补码快速换算为真值的方法与符号扩展处理

## 1. 如何快速将一个补码换算为对应的真值？

补码是一种用于表示**有符号整数**的二进制编码方式，计算其对应真值的方法如下：

- 观察其**符号位**（最高位）：
    
    - 如果为 **0**，则表示是正数，直接按权相加即可。
        
    - 如果为 **1**，表示是负数，使用以下**快速换算法**：
        

### 快速换算法（以 6 位补码为例）：

|位编号|5|4|3|2|1|0|
|---|---|---|---|---|---|---|
|补码位|1|1|1|1|0|1|
|权值|-2⁵|2⁴|2³|2²|0|2⁰|

**真值 = 所有为 1 的位置对应的权值相加（MSB的权值为负，其余为正）**

例如：`111101` → 真值 = `-32 + 16 + 8 + 4 + 1 = -3`

---

## 2. 符号扩展与快速计算的结合技巧

当补码位数较长，且**高位连续为 1**（即符号扩展），可以简化换算过程：

- **只保留最左边的一个 1，其余高位的 1 可以省略**，再按上述快速换算方法计算即可。
    

示例：

```
补码：1111111111111101（共 16 位）
可以视为：1（位15）...1（位2）101

简化为：101（取低3位即可），仍然表示 -3
```

⚠️ **符号扩展规则**：

- 对于负数，高位补 1；对于正数，高位补 0。
    
- 去掉冗余的 1 后计算，能提高速度。
    