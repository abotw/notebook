
# e4.13-tang2psets-p54

> 已知**缓存-主存系统**的效率为85%，平均访问时间为60ns，缓存比主存快4倍，求主存的存取周期和缓存的命中率。

## key

![](assets/e4.13-tang2psets-p54.png)

## sol

- 注意，缓存比主存快4倍，意味着主存的存取周期是缓存的5倍。
- (1') 设相关变量
- (1') 缓存-主存系统效率的公式
- (1') 求缓存的存取周期
- (1') **求主存的存取周期（易错）**
- (1') 平均访问时间的公式
- (1') 命中率

## summary

下表对于**Cache-主存系统**而言：

| 符号    | 含义                         | 符号说明         | 核心公式                                                                  |
| ----- | -------------------------- | ------------ | --------------------------------------------------------------------- |
| $e$   | 访问效率                       | efficiency   | $e=\frac{t_c}{t_a}\times 100\%=\frac{t_c}{ht_c+(1-h)t_m}\times 100\%$ |
| $t_a$ | 平均访问时间                     | average time | $t_a=ht_c+(1-h)t_m$                                                   |
| $t_c$ | 缓存的存取周期 /<br>命中时的Cache访问时间 | cache time   |                                                                       |
| $t_m$ | 主存的存取周期 /<br>未命中时的主存访问时间   | mem time     |                                                                       |
| $h$   | 命中率                        | hit rate     | $h=\frac{n_c}{n_c+n_m}$                                               |
| $n_c$ | 访问Cache的总命中次数              |              |                                                                       |
| $n_m$ | 访问主存的总次数                   |              |                                                                       |



